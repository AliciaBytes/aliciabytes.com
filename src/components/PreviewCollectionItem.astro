---
import render_markdown from "@src/utils/remark";
import PublishedUpdatedFragment from "./PublishedUpdatedFragment.astro";

const { slug } = Astro.props;
const { title, excerpt, prefix, published, lastUpdated } = Astro.props.data;
---

<article>
  <a
    href={`/${prefix}${slug}/`}
    set:html={render_markdown(
      `### ${title} {#${prefix.replace("/", "_")}${slug}}`
    )}
  />
  <PublishedUpdatedFragment published={published} updated={lastUpdated} />
  <p set:html={excerpt} />
</article>

<style>
  @layer component {
    article {
      margin-top: 9px;
      display: grid;
      grid-template-columns: 1fr;
      gap: 6px;
    }

    article * {
      margin: 0;
    }
  }
</style>
